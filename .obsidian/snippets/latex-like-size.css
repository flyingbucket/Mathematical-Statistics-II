/* === 1) 基准正文字号（按需调整：16px / 15px / 14px） === */
:root {
  --font-text-size: 16px !important;              /* 正文 */
  --h1-size: 1.55em !important;  /* ~24.8px */
  --h2-size: 1.38em !important;  /* ~22.1px */
  --h3-size: 1.22em !important;  /* ~19.5px */
  --h4-size: 1.09em !important;  /* ~17.4px */
  --h5-size: 1.00em !important;  /* ~16.0px（≈正文粗体感） */
  --h6-size: 0.94em !important;  /* ~15.0px */
}

/* === 2) 预览/阅读模式：应用到 h1–h6 === */
.markdown-reading-view h1,
.markdown-preview-view h1 { font-size: var(--h1-size) !important; line-height: 1.3; }
.markdown-reading-view h2,
.markdown-preview-view h2 { font-size: var(--h2-size) !important; line-height: 1.3; }
.markdown-reading-view h3,
.markdown-preview-view h3 { font-size: var(--h3-size) !important; line-height: 1.3; }
.markdown-reading-view h4,
.markdown-preview-view h4 { font-size: var(--h4-size) !important; line-height: 1.3; }
.markdown-reading-view h5,
.markdown-preview-view h5 { font-size: var(--h5-size) !important; line-height: 1.3; }
.markdown-reading-view h6,
.markdown-preview-view h6 { font-size: var(--h6-size) !important; line-height: 1.3; }

/* === 3) 编辑模式（CM6）：应用到标题 token === */
.markdown-source-view.mod-cm6 .cm-line span.cm-header.cm-header-1 { font-size: var(--h1-size) !important; }
.markdown-source-view.mod-cm6 .cm-line span.cm-header.cm-header-2 { font-size: var(--h2-size) !important; }
.markdown-source-view.mod-cm6 .cm-line span.cm-header.cm-header-3 { font-size: var(--h3-size) !important; }
.markdown-source-view.mod-cm6 .cm-line span.cm-header.cm-header-4 { font-size: var(--h4-size) !important; }
.markdown-source-view.mod-cm6 .cm-line span.cm-header.cm-header-5 { font-size: var(--h5-size) !important; }
.markdown-source-view.mod-cm6 .cm-line span.cm-header.cm-header-6 { font-size: var(--h6-size) !important; }

/* === 4) 让公式字号跟随编辑器（MathJax）=== */
mjx-container {
  /* 1.25×是经验值，个别主题可微调为 1.2–1.3 */
  font-size: calc(1.25 * var(--font-text-size)) !important;
  line-height: 0; /* 保持 MathJax 自身的行距处理 */
}
